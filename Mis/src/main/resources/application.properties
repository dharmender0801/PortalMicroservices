
server.port=8085
spring.datasource.username=root
spring.datasource.password=
spring.datasource.url=jdbc:mysql://172.25.88.65:3306/voicechat?autoReconnect=true&useSSL=false&characterEncoding=utf8
spring.datasource.driver-class-name=com.mysql.jdbc.Driver
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect
spring.jpa.show-sql=true
spring.application.name=Portal-Mis

eureka.instance.prefer-ip-address=true
eureka.client.fetch-registry=true
eureka.client.register-with-eureka=true
eureka.client.service-url.defaultZone=http://192.168.167.73:8082/eureka


querydata=SELECT DATE,SUM(records2) AS calls , SUM(records3) AS Duration ,SUM(records4) AS Total_mou,SUM(records5) AS pulses, SUM(records7) AS New_sub , SUM(records8) AS Renwals ,SUM(records9) AS new_subRev,SUM(records10) AS Ren_Rev,SUM(records11) AS browse_rev,SUM(records13) AS total_sub_rev ,SUM(records17) AS Total_unsub FROM ( SELECT DATE(starttime) AS DATE , 0 AS records2,0 AS records3, 0 AS records4, 0 AS records5, 0 AS records7 ,0 AS records8 ,0 AS records9,0 AS records10,0 AS records11,0 AS records12,0 AS records13 ,0 AS records17 FROM tbl_ivr_logs WHERE DATE(starttime)>='2023-03-05' AND DATE(starttime)<='2023-03-30' GROUP BY DATE  UNION ALL SELECT DATE(starttime) AS DATE  , COUNT(DISTINCT(ani)) AS records2  ,0 AS records3 , 0 AS records4, 0 AS records, 0 AS records7 , 0 AS records8 ,0 AS records9,0 AS records10,0 AS records11,0 AS records12,0 AS records13 ,0 AS records17 FROM tbl_ivr_logs WHERE DATE(starttime)>='2023-03-05' AND  DATE(starttime)<='2023-03-30' GROUP BY DATE UNION ALL SELECT DATE(starttime) AS DATE  , 0 AS records2,(SUM(duration))  AS records3 , 0 AS records4, 0 AS records5 , 0 AS records7 , 0 AS records8,0 AS records9,0 AS records10,0 AS records11,0 AS records12,0 AS records13,0 AS records17 FROM tbl_ivr_logs WHERE DATE(starttime)>='2023-03-05' AND DATE(starttime)<='2023-03-30'  GROUP BY DATE UNION ALL SELECT DATE(starttime) AS DATE , 0 AS records2,0  AS records3 , (SUM(duration))/60  AS records4, 0 AS records5  , 0 AS records7 , 0 AS records8 ,0 AS records9,0 AS records10,0 AS records11,0 AS records12,0 AS records13 ,0 AS records17 FROM tbl_ivr_logs WHERE DATE(starttime)>='2023-03-05' AND  DATE(starttime)<='2023-03-30'  GROUP BY DATE UNION ALL SELECT DATE(starttime) AS DATE , 0 AS records2,0 AS records3 ,0 AS records4, (SUM(pulse)) AS records5, 0 AS records7 , 0 AS records8  ,0 AS records9,0 AS records10,0 AS records11,0 AS records12,0 AS records13 ,0 AS records17 FROM tbl_ivr_logs WHERE DATE(starttime)>='2023-03-05' AND  DATE(starttime)<='2023-03-30'  GROUP BY DATE UNION ALL SELECT DATE(process_datetime) DATE ,0 AS records2,0 AS records3, 0 AS records4, 0 AS records5,  COUNT(1)  AS records7 , 0 AS records8 ,0 AS records9,0 AS records10,0 AS records11,0 AS records12,0 AS records13,0 AS records17 FROM tbl_billing_success WHERE DATE(process_datetime)>='2023-03-05' AND TYPE_EVENT IN ('sub','SUB') AND DATE(process_datetime)<='2023-03-30' GROUP BY DATE UNION ALL SELECT DATE(process_datetime) AS DATE , 0 AS records2,0 AS records3, 0 AS records4, 0 AS records5, 0 AS records7 , COUNT(1)  AS records8  ,0 AS records9,0 AS records10,0 AS records11,0 AS records12,0 AS records13,0 AS records17 FROM tbl_billing_success WHERE DATE(process_datetime)>='2023-03-05' AND TYPE_EVENT IN ('ren','REN') AND  DATE(process_datetime)<='2023-03-30' GROUP BY DATE UNION ALL SELECT DATE(process_datetime) AS DATE, 0 AS records2,0 AS records3, 0 AS records4, 0 AS records5, 0 AS records7 , 0  AS records8  ,IFNULL(SUM(deducted_amount),0) AS records9,0 AS records10,0 AS records11,0 AS records12,0 AS records13 ,0 AS records17 FROM tbl_billing_success WHERE DATE(process_datetime)>='2023-03-05'AND TYPE_EVENT IN ('sub','SUB') AND  DATE(process_datetime)<='2023-03-30' GROUP BY DATE UNION ALL SELECT DATE(process_datetime) AS DATE , 0 AS records2,0 AS records3, 0 AS records4, 0 AS records5,  0 AS records7 , 0  AS records8  ,0 AS records9,IFNULL(SUM(deducted_amount),0) AS records10,0 AS records11,0 AS records12,0 AS records13,0 AS records17 FROM tbl_billing_success WHERE DATE(process_datetime)>='2023-03-05'AND TYPE_EVENT IN ('ren','REN') AND  DATE(process_datetime)<='2023-03-30' GROUP BY DATE UNION ALL SELECT DATE(starttime) AS DATE, 0 AS records2,0 AS records3 ,0 AS records4, 0 AS records5, 0 AS records7 , 0 AS records8  ,0 AS records9,0 AS records10,(SUM(pulse))*25 AS records11,0 AS records12,0 AS records13,0 AS records17 FROM tbl_ivr_logs WHERE DATE(starttime)>='2023-03-05' AND  DATE(starttime)<='2023-03-30'  GROUP BY DATE UNION ALL SELECT DATE(starttime) AS DATE, 0 AS records2,0 AS records3, 0 AS records4, 0 AS records5,  0 AS records7 , 0  AS records8  ,0 AS records9,0 AS records10,0 AS records11,(SUM(pulse))*25 AS records12,0 AS records13 ,0 AS records17   FROM tbl_ivr_logs WHERE DATE(starttime)>='2023-03-05' AND ani != 145 AND  DATE(starttime)<='2023-03-30' GROUP BY DATE UNION ALL SELECT DATE(process_datetime) AS DATE , 0 AS records2,0 AS records3, 0 AS records4, 0 AS records5, 0 AS records7 , 0  AS records8  ,0 AS records9,0 AS records10,0 AS records11,0 AS records12, SUM(deducted_amount) AS records13 ,0 AS records17 FROM tbl_billing_success WHERE DATE(process_datetime)>='2023-03-05' AND  DATE(process_datetime)<='2023-03-30' GROUP BY DATE UNION ALL SELECT DATE(process_datetime) AS DATE , 0 AS records2,0 AS records3, 0 AS records4, 0 AS records5,  0 AS records7 , 0  AS records8  ,0 AS records9,0 AS records10,0 AS records11,0 AS records12, 0 AS records13 ,0 AS records17 FROM tbl_billing_success WHERE DATE(process_datetime)>='2023-03-05' AND  DATE(process_datetime)<='2023-03-30' GROUP BY DATE UNION ALL SELECT DATE(UNSUB_DATE_TIME) AS DATE , 0 AS records2,0 AS records3, 0 AS records4, 0 AS records5,  0 AS records7 , 0  AS records8  ,0 AS records9,0 AS records10,0 AS records11,0 AS records12,0 AS records13 ,COUNT(1) AS records17 FROM tbl_voicechat_unsub WHERE DATE(UNSUB_DATE_TIME)>='2023-03-05' AND LAST_BILLED_DATE !='' AND  DATE(UNSUB_DATE_TIME)<= '2023-03-30' GROUP BY DATE ) AS counts GROUP BY DATE

callback=SELECT COUNT(*) AS total_count, v.cpid , DATE(v.date_time) AS DATE, vd.vendor_name AS vendor, SUM(CASE WHEN v.callback_status = 1 THEN 1 ELSE 0 END) AS shared, SUM(CASE WHEN v.callback_status = 2 THEN 1 ELSE 0 END) AS supress FROM tbl_callback_vendor v JOIN vendor_details vd ON v.cpid = vd.cp_id WHERE DATE(v.date_time) BETWEEN '2023-07-01' AND '2023-07-21' GROUP BY v.cpid, DATE(v.date_time), vd.vendor_name;